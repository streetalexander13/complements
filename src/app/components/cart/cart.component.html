<div class="cart-container">
  <!-- Header Section -->
  <section class="cart-header">
    <div class="container">
      <div class="header-content">
        <div class="header-badge">
          <span class="badge-text">Your Cart</span>
        </div>
        <h1 class="cart-title">Review Your Selections</h1>
        <p class="cart-subtitle">
          Review your supplements and proceed to checkout or continue shopping.
        </p>
      </div>
    </div>
  </section>

  <!-- Cart Content -->
  <section class="cart-content">
    <div class="container">
      <!-- Empty Cart State -->
      <div *ngIf="cartItems.length === 0" class="empty-cart">
        <div class="empty-cart-content">
          <div class="empty-cart-icon">
            <span class="material-icons">shopping_cart</span>
          </div>
          <h2 class="empty-cart-title">Your cart is empty</h2>
          <p class="empty-cart-description">
            Add some supplements to your cart to get started with your personalized performance box.
          </p>
          <a routerLink="/supplements" class="btn btn-primary">
            <span class="btn-text">Browse Supplements</span>
            <span class="btn-arrow">→</span>
          </a>
        </div>
      </div>

      <!-- Cart Items -->
      <div *ngIf="cartItems.length > 0" class="cart-items-section">
        <div class="cart-items">
          <div *ngFor="let item of cartItems" class="cart-item">
            <div class="item-image">
              <img [src]="'assets/images/' + item.supplement.image" 
                   [alt]="item.supplement.name"
                   onerror="this.src='assets/images/generic-supplement.jpg'">
            </div>
            
            <div class="item-details">
              <h3 class="item-name">{{ item.supplement.name }}</h3>
              <p class="item-description">{{ item.supplement.shortDescription }}</p>
              <div class="item-meta">
                <span class="item-category">{{ getCategoryName(item.supplement.category) }}</span>
                <span class="item-price">{{ formatPrice(item.supplement.price) }}</span>
              </div>
            </div>

            <div class="item-quantity">
              <div class="quantity-controls">
                <button 
                  type="button" 
                  class="quantity-btn"
                  (click)="updateQuantity(item.supplement.id, item.quantity - 1)">
                  <span class="material-icons">remove</span>
                </button>
                <span class="quantity-display">{{ item.quantity }}</span>
                <button 
                  type="button" 
                  class="quantity-btn"
                  (click)="updateQuantity(item.supplement.id, item.quantity + 1)">
                  <span class="material-icons">add</span>
                </button>
              </div>
            </div>

            <div class="item-total">
              <span class="total-price">{{ formatPrice(item.supplement.price * item.quantity) }}</span>
            </div>

            <div class="item-actions">
              <button 
                type="button" 
                class="remove-btn"
                (click)="removeItem(item.supplement.id)">
                <span class="material-icons">delete</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Cart Summary -->
        <div class="cart-summary">
          <div class="summary-card">
            <h3 class="summary-title">Order Summary</h3>
            
            <div class="summary-details">
              <div class="summary-row">
                <span class="summary-label">Items ({{ cartItemCount }})</span>
                <span class="summary-value">{{ formatPrice(cartTotal) }}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Shipping</span>
                <span class="summary-value">Free</span>
              </div>
              <div class="summary-row total">
                <span class="summary-label">Total</span>
                <span class="summary-value">{{ formatPrice(cartTotal) }}</span>
              </div>
            </div>

            <div class="summary-actions">
              <button class="btn btn-primary btn-large">
                <span class="btn-text">Proceed to Checkout</span>
                <span class="btn-arrow">→</span>
              </button>
              <button 
                type="button" 
                class="btn btn-secondary"
                (click)="clearCart()">
                Clear Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Continue Shopping -->
  <section *ngIf="cartItems.length > 0" class="continue-shopping">
    <div class="container">
      <div class="shopping-content">
        <h3>Need personalized recommendations?</h3>
        <p>Take our quick survey to get supplements tailored specifically for your sport and goals.</p>
        <a routerLink="/wizard" class="btn btn-secondary">
          <span class="btn-text">Take Our Survey</span>
          <span class="btn-arrow">→</span>
        </a>
      </div>
    </div>
  </section>
</div>
